{% extends "base.html" %}
{% block title %}Ironforge Welding ‚Äî Professional Welding Services{% endblock %}

{% block content %}

<!-- ===== HERO SECTION ===== -->
<section class="hero" aria-label="Welcome to Ironforge Welding">
    <div class="hero-overlay"></div>

    <!-- Background video with poster fallback for slow connections.
         No loading="lazy" here ‚Äî the hero is above the fold. -->
    <video class="hero-video" autoplay muted loop playsinline
        poster="{{ url_for('static', filename='images/hero-poster.jpg') }}">
        <source src="{{ url_for('static', filename='videos/welding.mp4') }}" type="video/mp4">
    </video>

    <div class="hero-content">
        <p class="hero-tagline">Professional Welding &amp; Fabrication</p>
        <h1 class="hero-headline">Metal Work Done <span class="text-accent">Right.</span></h1>
        <p class="hero-sub">
            Over 15 years of hands-on experience in MIG, TIG, stick welding, and
            custom fabrication. From farm equipment to fine railings ‚Äî one call gets it done.
        </p>
        <div class="hero-actions">
            <a href="{{ url_for('contact.contact') }}" class="btn btn-primary">Request a Quote</a>
            <a href="{{ url_for('services.services') }}" class="btn btn-outline">View Services</a>
        </div>
    </div>
</section>

<!-- ===== QUICK HIGHLIGHTS ===== -->
<section class="highlights" aria-label="Business highlights">
    <div class="highlights-grid">
        <div class="highlight-card">
            <span class="highlight-icon" aria-hidden="true">üèóÔ∏è</span>
            <h3>15+ Years Experience</h3>
            <p>Trusted craftsmanship backed by over a decade and a half in the trade.</p>
        </div>
        <div class="highlight-card">
            <span class="highlight-icon" aria-hidden="true">üöõ</span>
            <h3>Mobile Service</h3>
            <p>Fully equipped rig ‚Äî we come to your site within a 50-mile radius.</p>
        </div>
        <div class="highlight-card">
            <span class="highlight-icon" aria-hidden="true">ü§ù</span>
            <h3>Free Estimates</h3>
            <p>No hidden fees. Get a straightforward quote before any work begins.</p>
        </div>
    </div>
</section>

<!-- ===== TESTIMONIALS / SOCIAL PROOF ===== -->
<section class="testimonials" aria-label="Customer testimonials">
    <div class="testimonials-container">
        <h2 class="section-heading">What Our <span class="text-accent">Customers</span> Say</h2>
        <div class="testimonials-grid">
            {% for t in testimonials %}
            <blockquote class="testimonial-card" id="testimonial-{{ t.id }}">

                <!-- Star rating -->
                <div class="testimonial-stars" aria-label="{{ t.rating }} out of 5 stars">
                    {% for i in range(t.rating) %}
                    <span class="star" aria-hidden="true">‚òÖ</span>
                    {% endfor %}
                </div>

                <p class="testimonial-quote">{{ t.quote }}</p>

                <footer class="testimonial-author">
                    <!-- Decorative initial avatar -->
                    <span class="testimonial-avatar" aria-hidden="true">{{ t.name[0] }}</span>
                    <div class="testimonial-meta">
                        <cite class="testimonial-name">{{ t.name }}</cite>
                        <span class="testimonial-role">{{ t.role }}</span>
                    </div>
                </footer>
            </blockquote>
            {% endfor %}
        </div>
    </div>
</section>

<!-- ===== ABOUT SNAPSHOT ===== -->
<section class="about-snapshot" aria-label="About Ironforge Welding">
    <div class="about-container">
        <div class="about-text">
            <h2>One Man. <span class="text-accent">One Mission.</span></h2>
            <p>
                Ironforge Welding is a one-man shop built on the belief that quality
                work speaks for itself. Every joint is laid with precision, every
                project treated like it's going on my own property.
            </p>
            <p>
                Whether you need a quick repair or a ground-up fabrication, you'll
                work directly with me from start to finish ‚Äî no runaround, no
                middlemen.
            </p>
            <div class="about-actions">
                <a href="{{ url_for('contact.contact') }}" class="btn btn-primary">Let's Talk</a>
                <a href="{{ url_for('gallery.gallery') }}" class="btn btn-outline">See Our Work</a>
            </div>
        </div>
        <div class="about-image-placeholder">
            <!-- Below the fold ‚Äî lazy load -->
            <img src="{{ url_for('static', filename='images/welder-unsplash.jpg') }}"
                alt="Welder at work in the Ironforge shop, sparks flying as he grinds a steel joint" class="about-photo"
                loading="lazy" width="560" height="400">
        </div>
    </div>
</section>

{% endblock %}